package simulator.model;

import org.json.JSONObject;

import simulator.misc.Vector2D;

public abstract class Body {

	protected String id;
	protected String gid;
	protected Vector2D v;
	protected Vector2D f;
	protected Vector2D p;
	protected double m;
	
	
	
	public Body(String _id, String _gid, Vector2D _v, Vector2D _p, double _m) {
	
		 this.id = _id;
	     this.gid = _gid;
	     this.v = _v;
	     this.p = _p;
	     this.m = _m;
	     this.f = new Vector2D(0, 0);
	        
		 if (id == null || gid == null || v == null || p == null) {
	            throw new IllegalArgumentException("Null parameter");
	        }
		 if (id.trim().length() == 0 || gid.trim().length() == 0) {
	            throw new IllegalArgumentException("Empty id or gid");
	        }
	     if (m <= 0) {
	            throw new IllegalArgumentException("Non-positive mass");
	        }
	       
	}


    void addForce(Vector2D f) {
        this.f = this.f.plus(f);
    }

    void resetForce() {
        this.f = new Vector2D(0, 0);
    }

    abstract void advance(double dt);

    public JSONObject getState() {
        JSONObject obj = new JSONObject();
        obj.put("id", id);
        obj.put("m", m);
        obj.put("p", p);
        obj.put("v", v);
        obj.put("f", f);
        return obj;
    }

    public String toString() {
        return getState().toString();
    }
	
    // GETTERS
    
    public String getId() {
        return id;
    }

    public String getgId() {
        return gid;
    }

    public Vector2D getVelocity() {
        return v;
    }

    public Vector2D getForce() {
        return f;
    }

    public Vector2D getPosition() {
        return p;
    }

    public double getMass() {
        return m;
    }
    
    
	}
